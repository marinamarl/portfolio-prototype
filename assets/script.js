function DrawWorm(){var i,c,t,s,e={x:window.innerWidth/2,y:window.innerHeight};this.mouse=e;var o=[],r=window.innerWidth/2,p=window.innerHeight;this.initialize=function(){i=document.getElementById("canvas"),c=i.getContext("2d"),t=window.innerWidth,s=window.innerHeight,i.width=t,i.height=s,i.addEventListener("touchmove",f,!1),i.addEventListener("mousemove",y,!1),i.addEventListener("click",u,!1);setInterval(h,20)};var h=function(){var t,i=o.length;for(t=0;t<i;t++){var s=o[t];s.count<80?(n(s),s.count++):(i--,o.splice(t,1),t--)}a()},n=function(t){.9<Math.random()&&(t.tmt.rotate(2*-t.r),t.r*=-1),t.vmt.prependMatrix(t.tmt);var i=-t.w*t.vmt.c+t.vmt.tx,s=-t.w*t.vmt.d+t.vmt.ty,h=(t.c1x+i)/2,n=(t.c1y+s)/2,a=t.w*t.vmt.c+t.vmt.tx,e=t.w*t.vmt.d+t.vmt.ty,o=(t.c2x+a)/2,r=(t.c2y+e)/2;c.fillStyle="#000000",c.strokeStyle="#000000",c.beginPath(),c.moveTo(t.p1x,t.p1y),c.quadraticCurveTo(t.c1x,t.c1y,h,n),c.lineTo(o,r),c.quadraticCurveTo(t.c2x,t.c2y,t.p2x,t.p2y),c.closePath(),c.fill(),t.c1x=i,t.c1y=s,t.p1x=h,t.p1y=n,t.c2x=a,t.c2y=e,t.p2x=o,t.p2y=r},a=function(){var t=e.x,i=e.y,s=t-r,h=i-p,n=Math.min(x(s,h),50);if(!(n<10)){var a=new Matrix2D;a.rotate(Math.atan2(h,s)),a.translate(t,i),d(a,n),c.beginPath(),c.strokeStyle="#000000",c.moveTo(r,p),c.lineTo(t,i),c.stroke(),c.closePath(),r=t,p=i}},d=function(t,i){var s=Math.random()*(Math.PI/6-Math.PI/64)+Math.PI/64;.5<Math.random()&&(s*=-1);var h=new Matrix2D;h.scale(.95,.95),h.rotate(s),h.translate(i,0);var n=.5,a=new l;a.c1x=-n*t.c+t.tx,a.p1x=-n*t.c+t.tx,a.c1y=-n*t.d+t.ty,a.p1y=-n*t.d+t.ty,a.c2x=n*t.c+t.tx,a.p2x=n*t.c+t.tx,a.c2y=n*t.d+t.ty,a.p2y=n*t.d+t.ty,a.vmt=t,a.tmt=h,a.r=s,a.w=i/20,a.count=0,o.push(a),100<o.length&&o.shift()},l=function(){this.c1x=null,this.c1y=null,this.c2x=null,this.c2y=null,this.p1x=null,this.p1y=null,this.p2x=null,this.p2y=null,this.w=null,this.r=null,this.count=null,this.vmt=null,this.tmt=null},u=function(t){t.preventDefault(),i.width=i.width,o=[]},y=function(t){e.x=t.layerX-i.offsetLeft,e.y=t.layerY-i.offsetTop},f=function(t){t.preventDefault(),e.x=t.targetTouches[0].pageX-i.offsetLeft,e.y=t.targetTouches[0].pageY-i.offsetTop},x=function(t,i){return Math.sqrt(t*t+i*i)}}var app,interval,count;function demoApp(){++count%2==0?app.mouse.y-=40:app.mouse.y+=40,30<count&&window.clearInterval(interval)}console.log("Hello World from Main Javascript"),function(t){var l=function(t,i,s,h,n,a){this.initialize(t,i,s,h,n,a)},i=l.prototype;l.identity=null,l.DEG_TO_RAD=Math.PI/180,i.a=1,i.b=0,i.c=0,i.d=1,i.tx=0,i.ty=0,i.alpha=1,i.shadow=null,i.compositeOperation=null,i.initialize=function(t,i,s,h,n,a){null!=t&&(this.a=t),this.b=i||0,this.c=s||0,null!=h&&(this.d=h),this.tx=n||0,this.ty=a||0},i.prepend=function(t,i,s,h,n,a){var e=t*this.a+i*this.c,o=t*this.b+i*this.d,r=s*this.a+h*this.c,c=s*this.b+h*this.d,p=n*this.a+a*this.c+this.tx,d=n*this.b+a*this.d+this.ty;this.a=e,this.b=o,this.c=r,this.d=c,this.tx=p,this.ty=d},i.append=function(t,i,s,h,n,a){var e=this.a,o=this.b,r=this.c,c=this.d;this.a=t*e+i*r,this.b=t*o+i*c,this.c=s*e+h*r,this.d=s*o+h*c,this.tx=n*e+a*r+this.tx,this.ty=n*o+a*c+this.ty},i.prependMatrix=function(t){this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty),this.prependProperties(t.alpha,t.shadow,t.compositeOperation)},i.appendMatrix=function(t){this.append(t.a,t.b,t.c,t.d,t.tx,t.ty),this.appendProperties(t.alpha,t.shadow,t.compositeOperation)},i.prependTransform=function(t,i,s,h,n,a,e,o,r){if(n%360)var c=n*l.DEG_TO_RAD,p=Math.cos(c),d=Math.sin(c);else p=1,d=0;(o||r)&&(this.tx-=o,this.ty-=r),a||e?(a*=l.DEG_TO_RAD,e*=l.DEG_TO_RAD,this.prepend(p*s,d*s,-d*h,p*h,0,0),this.prepend(Math.cos(e),Math.sin(e),-Math.sin(a),Math.cos(a),t,i)):this.prepend(p*s,d*s,-d*h,p*h,t,i)},i.appendTransform=function(t,i,s,h,n,a,e,o,r){if(n%360==0&&1==s&&1==h&&0==a&&0==e)return this.tx+=t-o,void(this.ty+=i-r);if(n%360)var c=n*l.DEG_TO_RAD,p=Math.cos(c),d=Math.sin(c);else p=1,d=0;a||e?(a*=l.DEG_TO_RAD,e*=l.DEG_TO_RAD,this.append(Math.cos(e),Math.sin(e),-Math.sin(a),Math.cos(a),t,i),this.append(p*s,d*s,-d*h,p*h,0,0)):this.append(p*s,d*s,-d*h,p*h,t,i),(o||r)&&(this.tx-=o*this.a+r*this.c,this.ty-=o*this.b+r*this.d)},i.rotate=function(t){var i=Math.sin(t),s=Math.cos(t),h=s*this.a+i*this.c,n=s*this.b+i*this.d,a=-i*this.a+s*this.c,e=-i*this.b+s*this.d;this.a=h,this.b=n,this.c=a,this.d=e},i.skew=function(t,i){t*=l.DEG_TO_RAD,i*=l.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(t),Math.cos(t),0,0)},i.scale=function(t,i){this.a*=t,this.d*=i,this.tx*=t,this.ty*=i},i.translate=function(t,i){this.tx+=t,this.ty+=i},i.identity=function(){this.alpha=this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.shadow=this.compositeOperation=null},i.invert=function(){var t=this.a,i=this.b,s=this.c,h=this.d,n=this.tx,a=t*h-i*s;this.a=h/a,this.b=-i/a,this.c=-s/a,this.d=t/a,this.tx=(s*this.ty-h*n)/a,this.ty=-(t*this.ty-i*n)/a},i.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d},i.decompose=function(t){null==t&&(t={}),t.x=this.tx,t.y=this.ty,t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var i=Math.atan2(-this.c,this.d),s=Math.atan2(this.b,this.a);return i==s?(t.rotation=s/l.DEG_TO_RAD,this.a<0&&0<=this.d&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=i/l.DEG_TO_RAD,t.skewY=s/l.DEG_TO_RAD),t},i.reinitialize=function(t,i,s,h,n,a,e,o,r){return this.initialize(t,i,s,h,n,a),this.alpha=e||1,this.shadow=o,this.compositeOperation=r,this},i.appendProperties=function(t,i,s){this.alpha*=t,this.shadow=i||this.shadow,this.compositeOperation=s||this.compositeOperation},i.prependProperties=function(t,i,s){this.alpha*=t,this.shadow=this.shadow||i,this.compositeOperation=this.compositeOperation||s},i.clone=function(){var t=new l(this.a,this.b,this.c,this.d,this.tx,this.ty);return t.shadow=this.shadow,t.alpha=this.alpha,t.compositeOperation=this.compositeOperation,t},i.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},l.identity=new l(1,0,0,1,0,0),t.Matrix2D=l}(window),setTimeout(function(){(app=new DrawWorm).initialize(),count=0,interval=setInterval(demoApp,20)},10);